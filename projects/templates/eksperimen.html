{% extends 'base.html' %}

{% block app_content %}

<div class="card shadow mt-4">
    <div class="card-header">
        <h1 class="font-weight-bold text-center">Aplikasi Kompresi Citra Dengan Metode Huffman</h1>
    </div>
    <div class="card-body">
<!-- 
        <div class="row">
    <div class="column">
        <img src="{{url_for('static', filename='img/Image300x200.jpg')}}" style="width: 100%;" alt=""
        onclick="showImageBellow(this);">
    </div>
    <div class="column">
        <img src="{{url_for('static', filename='img/stones.jpg')}}" style="width: 100%;" alt=""
        onclick="showImageBellow(this);">
    </div>
    <div class="column">
        <img src="{{url_for('static', filename='img/bw.jpg')}}" style="width: 100%;" alt=""
        onclick="showImageBellow(this);">
    </div>
    <div class="column">
        <img src="{{url_for('static', filename='img/waterfall300x200.jpg')}}" style="width: 100%;" alt=""
        onclick="showImageBellow(this);">
    </div>
</div> -->
<form method="POST" enctype="multipart/form-data">
    <div class="form-group">
        <div class="custom-file">
            <label for="image" class="custom-file-label">Masukkan gambar.....</label>
            <input type="file" name="image" id="image" class="custom-file-input" onchange="preview()">
        </div>
      
    </div>
    <div class="form-group">
        <div class="col-lg-6">
            {% if filename %}
            <img id="expandedImg" src="{{url_for('static', filename='uploads/'+filename)}}" class="img-thumbnail img-preview" style="width:100%;">
            {% else %}
            <img id="expandedImg" src="{{url_for('static', filename='img/default-image.jpg')}}" class="img-thumbnail img-preview" style="width:100%;">
            {% endif %}
        </div>
    </div>
    <button type="submit" class="btn btn-primary">PROCESS</button>
</form>

<div class="row">
    <!-- <form action="">
        <div class="form-group">
            <input type="file" name="inputImage" id="inputImage" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
    </form> -->
    <div class="col mt-3">
        <h3 class="center mt-2">HUffman Coding</h3>
        <textarea name="bit" id="bit" disabled cols="30" rows="10" class="form-control">{{bit}}</textarea>
        <h6 class="mt-2">Nama: {{filename}}</h6>
        <h6 class="mt-2">RMSE: {{redudance}}</h6>
        <h6 class="mt-2">Rasio kompresi: {{ ratio }}</h6>
        <!-- <ul>
            <li>Rasio kompresi : 000%</li>
            <li><a href="#">Tabel frekuensi</a></li>
            <li><a href="#">Pohon huffman</a></li>
        </ul> -->
        <!-- <button class="btn btn-primary mt-2">DECOMPRESS</button> -->
    </div>
</div>
<div class="row mt-3">
    <div class="col-lg-6">
        <h5 class="text-center">Hasil Decoding</h5>
        <textarea disabled name="" id="" cols="30" rows="14" class="form-control">{{ pixel }}</textarea>
        <!-- <button class="btn btn-primary mt-2">Restore</button> -->
    </div>
    <div class="col-lg-6">
        <h5 class="text-center">Hasil Restorasi</h5>
        {% if filename %}
        <img id="expandedImg" src="{{url_for('static', filename='uploads/'+filename)}}" class="img-thumbnail img-preview" style="width:100%;">
        {% else %}
        <img id="expandedImg" src="{{url_for('static', filename='img/default-image.jpg')}}" class="img-thumbnail img-preview" style="width:100%;">
        {% endif %}
        <ul class="mt-3">
            <li><h6>Jumlah pixel yang hilang: {{total_loss}}</h6></li>
            <li><h6>Resolusi gambar original: {{original_image_dimension}}</h6></li>
            <li><h6>Resolusi hasil restorasi: {{restore_image_dimension}}</h6></li>
        </ul>
    </div>
</div>

    </div>
</div>
{% endblock %}